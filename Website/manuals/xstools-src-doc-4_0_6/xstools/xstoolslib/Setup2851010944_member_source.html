<HTML>
<HEAD>
<TITLE>XSTOOLs Source Code - Setup</TITLE>
<script type="text/javascript" src="../../common/js.js" language="JavaScript"></script>
<script type="text/javascript" src="leftmenu.js" language="JavaScript"></script>
<script type="text/javascript">
 var relPathToCommmon = "../../common/";
 var relPathToHelpDir = "../../common/help/";
 var toSearchPage     = "_search','../../search";
 Body1();
</script>
<div class="headerPage">Setup</div>
<div class="path"><a href="#" OnFocus="link('','../../index',this)" class="pathLink">XSTOOLs</A><img src="../../common/path-arrow.gif" class="path-arrow"><a href="#" OnFocus="link('_dir','xstoolslib0',this)" class="pathLink">xstoolslib</A><img src="../../common/path-arrow.gif" class="path-arrow"><a href="#" OnFocus="link('_class','HexRecord0',this)" class="pathLink">HexRecord</A><img src="../../common/path-arrow.gif" class="path-arrow"><span class="pathNonLink">Setup</span></div>
<script type="text/javascript">
 Body2();
 BodyLeftMenuStart();
WriteLeftMenu("","","","");
 BodyLeftMenuEnd();
 Body3();
</script>
<span class="tabInActive"><a href="#" OnFocus="linkTab('_member','Setup2851010944','_description',this)" class="tabLinkInActive">Description</a></span>
<span class="tabActive"><a href="#" OnFocus="linkTab('_member','Setup2851010944','_source',this)" class="tabLinkActive">Source</a></span>
<span class="tabInActive"><a href="#" OnFocus="linkTab('_member','Setup2851010944','_callgraph',this)" class="tabLinkInActive">Call Graph</a></span>
<script type="text/javascript">
 Body4();
</script>
<div class="contentAirTop"></div>
<div class="paragraph2NoTopPadding">Start Line: 68</div>
<pre class="codeExamples">
void <a href="#" OnFocus="link('_member','Setup2851010944',this)">HexRecord::Setup</a>(const char *format)
{
    if(format==NULL)
    {
        <a href="#" OnFocus="link('_member','SetFileFormat1919421449',this)">SetFileFormat</a>(XESSFormat);       // set file format for hex data
        <a href="#" OnFocus="link('_member','SetRecordType4230118567',this)">SetRecordType</a>(InvalidRecord);    // record invalid until it's loaded with something
    }
    else
    {
        if(!strcmp(format,"XESS-16"))
        {
            <a href="#" OnFocus="link('_member','SetFileFormat1919421449',this)">SetFileFormat</a>(XESSFormat);
            <a href="#" OnFocus="link('_member','SetRecordType4230118567',this)">SetRecordType</a>(XESSDataWith16BitAddressRecord);
        }
        else if(!strcmp(format,"XESS-24"))
        {
            <a href="#" OnFocus="link('_member','SetFileFormat1919421449',this)">SetFileFormat</a>(XESSFormat);
            <a href="#" OnFocus="link('_member','SetRecordType4230118567',this)">SetRecordType</a>(XESSDataWith24BitAddressRecord);
        }
        else if(!strcmp(format,"XESS-32"))
        {
            <a href="#" OnFocus="link('_member','SetFileFormat1919421449',this)">SetFileFormat</a>(XESSFormat);
            <a href="#" OnFocus="link('_member','SetRecordType4230118567',this)">SetRecordType</a>(XESSDataWith32BitAddressRecord);
        }
        else if(!strcmp(format,"EXO-16"))
        {
            <a href="#" OnFocus="link('_member','SetFileFormat1919421449',this)">SetFileFormat</a>(MotorolaFormat);
            <a href="#" OnFocus="link('_member','SetRecordType4230118567',this)">SetRecordType</a>(MotoDataWith16BitAddressRecord);
        }
        else if(!strcmp(format,"EXO-24"))
        {
            <a href="#" OnFocus="link('_member','SetFileFormat1919421449',this)">SetFileFormat</a>(MotorolaFormat);
            <a href="#" OnFocus="link('_member','SetRecordType4230118567',this)">SetRecordType</a>(MotoDataWith24BitAddressRecord);
        }
        else if(!strcmp(format,"EXO-32"))
        {
            <a href="#" OnFocus="link('_member','SetFileFormat1919421449',this)">SetFileFormat</a>(MotorolaFormat);
            <a href="#" OnFocus="link('_member','SetRecordType4230118567',this)">SetRecordType</a>(MotoDataWith32BitAddressRecord);
        }
        else if(!strcmp(format,"HEX"))
        {
            <a href="#" OnFocus="link('_member','SetFileFormat1919421449',this)">SetFileFormat</a>(IntelFormat);
            <a href="#" OnFocus="link('_member','SetRecordType4230118567',this)">SetRecordType</a>(IntelDataRecord);
        }
        else if(!strcmp(format,"MCS"))
        {
            <a href="#" OnFocus="link('_member','SetFileFormat1919421449',this)">SetFileFormat</a>(IntelFormat);
            <a href="#" OnFocus="link('_member','SetRecordType4230118567',this)">SetRecordType</a>(IntelDataRecord);
        }
        else
        {
            assert(1==0);   // should never get here
        }
    }

    <a href="#" OnFocus="link('_member','data239492963',this)">data</a> = NULL;                    // no hex data at this time
    <a href="#" OnFocus="link('_member','segmented239492963',this)">segmented</a> = false;               // no Intel segmented addressing
    <a href="#" OnFocus="link('_member','SetLength2774302151',this)">SetLength</a>(0);                    // length of hex data is zero
    <a href="#" OnFocus="link('_member','SetAddress2774302151',this)">SetAddress</a>(0);                    // hex data is not destined for any address
    <a href="#" OnFocus="link('_member','SetBaseAddress2774302151',this)">SetBaseAddress</a>(0);                // make sure base address is zero
    <a href="#" OnFocus="link('_member','SetError3731019749',this)">SetError</a>(NoHexRecordError);     // no errors yet
    <a href="#" OnFocus="link('_member','CalcCheckSum2569703380',this)">CalcCheckSum</a>();                 // calculate the checksum for this trivial record
}
</pre><div class="contentAirBottom"></div>
<script type="text/javascript">
 Body5();
Statistics("","","","","");
 Body6();
SetPageTab('_member','_source');
</script>
